<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login & Logout Practice</title>
    <link rel="stylesheet" href="./styles/reset.css">
    <style>

    </style>
</head>
<body>
    <button type="button" id="loginBtn">Login</button>
    <button type="button" id="logoutBtn">Logout</button>
    <p class="result"><!-- 로그인 상태 출력 메세지 위치 --></p>
    <script>
        //1. 초기상태 = 로그아웃
        localStorage.setItem('isLogin', 'false') //현재 로그아웃 상태
        const loginBtn = document.querySelector('#loginBtn');
        const logoutBtn = document.querySelector('#logoutBtn');
        const resultP = document.querySelector('.result');
        //2. 로그인 버튼 클릭 시 로그인 메세지 p 출력
        console.log(loginBtn, resultP);
        loginBtn.addEventListener('click',()=>{
            localStorage.setItem('isLogin', 'true')//상태변경(로컬스토리지)
            resultStatus();//변경된 상태값에 따라 메세지 출력
        });
        //3. 로그아웃 버튼 클릭 시 로그아웃 메세지 p 출력
        logoutBtn.addEventListener('click',()=>{
            localStorage.setItem('isLogin', 'false')
            //상태변경(로컬스토리지)
            resultStatus();//변경된 상태값에 따라 메세지 출력
        });
        // 공통 메세지 함수
        function resultStatus(){
            let statusMsg = ''; //메세지 초기값
            //상태 가져오기 -> 변수 만들기
            let loginStatusValue = localStorage.getItem('isLogin')
            //상태애에 따라 조건문 분기 제작(로그인/로그아웃)
            if(loginStatusValue == 'true'){
                statusMsg = '로그인 완료' //p가 아님! 메세지의 값!
            } else if (loginStatusValue == 'false'){
                statusMsg = '로그아웃 완료'
            }
            return resultP.textContent = statusMsg; // p의 택스트로 결과를 출력하겠다~
        }
    </script>
</body>
</html>