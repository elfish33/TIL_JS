<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ScrollTrigger | JS</title>
    <link rel="stylesheet" href="./styles/reset.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.3/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.3/ScrollTrigger.min.js"></script>
    <style>
        body, html {
            height: 300vh;
            background: linear-gradient(lightblue, grey, lightblue);
        }
        main .bg {height: 90vh; overflow: hidden;}
        main .bg img {width: 100%;}
        main .bg2 img {opacity:0.5; transform:scale(1)}
    </style>
</head>
<body>
    <main>
        <section class="bg bg1"><img src="https://images.unsplash.com/photo-1599819055803-717bba43890f?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mjd8fGJha2VyeXxlbnwwfHwwfHx8MA%3D%3D" alt=""></section>
        <section class="bg bg2"><img src="https://images.unsplash.com/photo-1517686469429-8bdb88b9f907?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTZ8fGJha2VyeXxlbnwwfHwwfHx8MA%3D%3D" alt=""></section>
        <section class="bg bg3"><img src="https://images.unsplash.com/photo-1579697096985-41fe1430e5df?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MjN8fGJha2VyeXxlbnwwfHwwfHx8MA%3D%3D" alt=""></section>
        <section class="bg bg4"><img src="https://images.unsplash.com/photo-1623334044303-241021148842?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTJ8fGJha2VyeXxlbnwwfHwwfHx8MA%3D%3D" alt=""></section>
    </main>
    <script>
        //document.addEventListener("DOMContentLoaded", (event) => { //defer 없이 head에 작성한 경우 사용! 우리는 script를 밑에 쓰니까 괜찮음
        gsap.registerPlugin(ScrollTrigger) //필수!
        //스크롤 트리거 작성 시작
        //특적 요소가 (=트리거) 보이면 실행해라~
        //gsap.from('애니메이션 대상', {옵션:값, 옵션: 값, 옵션: {옵션:값,},})
        /* gsap.from('애니메이션 대상', {
            scrollTrigger: {trigger: '트리거 발동 기준'},
            스크롤에니메이션속성: 값,
            스크롤에니메이션속성: 값,
        }) 
        */
        gsap.to('.bg2 img', {// from CSS to JS
            scrollTrigger: {
                trigger: '.bg2',
                markers:true,
                start:'top 90%', //무조건 적용해야 함
                end: 'top, 40%',
                scrub:true,
            },
            scale: 1.3,
            opacity: 1,
            duration: 3,
        })
        //스크롤 트리거 작성 종료
        //});
    </script>
</body>
</html>